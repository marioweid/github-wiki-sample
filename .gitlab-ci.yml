variables:
  NOTE: "unless you want to push something from gitlab into my private github dummy repo,
  dont even try using the private key, its useless, if you somehow use it anyways and it works, call me"
  PRIVATE_KEY_SAMPLE: "-----BEGIN OPENSSH PRIVATE KEY-----
                      b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
                      NhAAAAAwEAAQAAAYEA+6EtdIUo06JCb69xyn4wxExJzjhy4kK00egLfeF7jLjlxDgRxoiY
                      cjLCm6nx6pBQNKBMZkgBFn2m2fFozIr5J6QAI7ptb5xuqbBmL6BbcCDBeRwQ9+CsXaYDCe
                      MbHWlkC3DWejEbVOCJl7hBZGPDEs1/WVyDw5qHG2KDupOOghPR26rHtWv/tInzhVTGBS5E
                      DrZ2VaUyhOIe/xoNn+brQIqGGjb2WPU7R/SUWigcMSi2x7ewRmXHeRGo99a9uWxXkIc+Dr
                      t8i0HodqedcpenqOXaNVwJAvlhAhUPIxFb9QKVWmTf7kdygTWbJzSDQ305bQbNmrepYuHI
                      l9EjDpihSFuw9iAEwQXOjny05bEaTQq5CogHvzY8UrbnhxDEkXtROR350Uoks8RQ+LsWKE
                      ErDxYgSfecqHuW2ui6dnfYYwfwzvB/B6zpYr0k/9ddKxQSsxBDnUQy+B7oB0ItPqZG2Tto
                      GJJDUrQL/R8QcyYb8k8Mid4VwsJH8xHkctxb/UCPAAAFkCunQSkrp0EpAAAAB3NzaC1yc2
                      EAAAGBAPuhLXSFKNOiQm+vccp+MMRMSc44cuJCtNHoC33he4y45cQ4EcaImHIywpup8eqQ
                      UDSgTGZIARZ9ptnxaMyK+SekACO6bW+cbqmwZi+gW3AgwXkcEPfgrF2mAwnjGx1pZAtw1n
                      oxG1TgiZe4QWRjwxLNf1lcg8Oahxtig7qTjoIT0duqx7Vr/7SJ84VUxgUuRA62dlWlMoTi
                      Hv8aDZ/m60CKhho29lj1O0f0lFooHDEotse3sEZlx3kRqPfWvblsV5CHPg67fItB6HannX
                      KXp6jl2jVcCQL5YQIVDyMRW/UClVpk3+5HcoE1myc0g0N9OW0GzZq3qWLhyJfRIw6YoUhb
                      sPYgBMEFzo58tOWxGk0KuQqIB782PFK254cQxJF7UTkd+dFKJLPEUPi7FihBKw8WIEn3nK
                      h7ltrounZ32GMH8M7wfwes6WK9JP/XXSsUErMQQ51EMvge6AdCLT6mRtk7aBiSQ1K0C/0f
                      EHMmG/JPDIneFcLCR/MR5HLcW/1AjwAAAAMBAAEAAAGBANF201rquhiqOrm0B3pz326Yvt
                      ue2+uDcfhGPMK2H9390K6tqgZlkNmHbb6dEpebOFkGk3KVP+qUAH/uWLnkehHIkKEtQIon
                      Y2t4PygoSdWmPsftWCav7WwrlN33IowyPijT7oZbOJBINeGJbU3/SdTuIbOmsrzydsOSF2
                      wKBxg7HXfJy2M3mu2T5Ja6AfkwEVFaDFmxIcPCY+Ehs/PHC1B3v7g0xo843PdCHviJ6SX2
                      6WiJfYCsmwcqb0iYhujCyN8jOEZWZeoVwNg9NcRhk6ZAy7GcxsofVGwXTf95OQmTxZvxYq
                      XlOulXtKhGzCvmMFcwRTgT+fWECGzFP/ShVjU5V8htkyNamaNtYGykqq4KI1bjYpnV3lVx
                      PMEQRKmg0AAAxcnbPpNyqI3018hQ8M50IguXvCjOTXgJd7y6Ibv9JKGVw5cNhEoOsVivmB
                      idNGYXG8ht1hQ4lfP2gqdFsKa7w8XOHLbcYAyhlcqaH14KWJCMMLFgbgkY9hIWwo6G8QAA
                      AMEA1pjJWH9HQ7UMGJzqDZt1ZoM5GyBLQKaE/VrSyrh2urL3oJz4xuiYbv1aCjY6I8MAIQ
                      TuPgl/acYxo2bXMjM9PQbgnlScY5UVM2jQW+WpUGiYktnKB06vsy7/R43Y7k0b+EqRlEAd
                      tU363AaHSTz9aJXfxvh8VwsYpGnzz/Lzo6ev5dwvEB3ADUgBqjx2aFFHoDJoXC79os8AqC
                      gUBFAfKieiTWgsZaD/H4Qm22uJsuK1IKTxGOP9yOR3oDajyj5qAAAAwQD/Xr/2a2biIEww
                      BaWJMU77symQRvqDB9x8xiPzzj/k1EyvGelsRfDvT/VqZ955KVlJvS+EPxCnsex4t+dnbn
                      6uI/dazDhj1c6vHcHe5vFSH32MrjFCCreQko4uL3akojPXjeDC1hVudqXvgJWaoNL0jOa7
                      go0XBmzD98LHvB4xBxAhqBWRwpw712moBr0TOpIZroaTtDhSt8LdvO8n0hm2UlAnP+q60h
                      ou3KPjuuvRk/VG2xW1fLbvNgwH/OjJqvkAAADBAPxAENiSP3MtqA3cx5XgS5XSkGyVCwOC
                      8zvgXgyJWXTO0/G305DqIQJoEjNHS2PYnvKb+VFmEzjj12gLkdh6EXQOOqbjVIgbP87SAX
                      cdKhbGRId9mq6NQhS8pfSqrOqL6lFr9QY++dY2NdGjoALWU4RopaZX2xR01Hfr9i9KPJvr
                      L5n9dltC4pBDXULVwo8GIMk6nOQgmZTLAXV/3K2nZ8k9RlqHQG+1pwCZBu8BbaVbTL4pxM
                      OUeBhpeCQWTDlhxwAAABVtYXJpb0BERVNLVE9QLTlMMEdKM0YBAgME
                      -----END OPENSSH PRIVATE KEY-----"


stages:
  - build
  - copy-wiki-to-github


#deploy-job: # This job runs in the deploy stage.
#  stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.
#  tags:
#    - python3.9
#  script:
#    - echo "Deploying application..."

# copy gitlab wiki to github
copy-wiki-to-github:
  stage: copy-wiki-to-github
  tags:
    - python3.9
  script:
    - "which python"
    - "python --version"
    - "ls"
    - "which git"
    - "echo ${CI_JOB_TOKEN}"
    - "git clone https://gitlab-ci-token:${CI_JOB_TOKEN}@sam-dev.cs.hm.edu/marioweid/gitlab-wiki-sample.git"
    - "cd gitlab-wiki-sample"
    - "git branch -b master"
    - "ssh-add << ${PRIVATE_KEY_SAMPLE}"
    - "git push git@github.com:roVer-HM/crownet.wiki.git"
  #    - new line
  #    - ssh://git@sam-dev.cs.hm.edu:6000/marioweid/gitlab-wiki-sample.git
  #    - https://sam-dev.cs.hm.edu/marioweid/gitlab-wiki-sample.git
  #    - "source ./out/crownet_user/bin/activate"
  #    - "ls ${CROWNET_HOME}/scripts"
  #    - "ls ${CROWNET_HOME}/scripts/ci"
  #    - "ls ${CROWNET_HOME}/scripts/ci"
  #    - "python ${CROWNET_HOME}/scripts/ci/repo_copy.py --source https://gitlab-ci-token:${CI_JOB_TOKEN}@sam-dev.cs.hm.edu:6000/rover/crownet.wiki.git --destination git@github.com:roVer-HM/crownet.wiki.git"
  #    - "python ${CROWNET_HOME}/scripts/ci/repo_copy.py --source ssh://git@sam-dev.cs.hm.edu:6000/rover/crownet.wiki.git --destination git@github.com:roVer-HM/crownet.wiki.git"
  #    - >
  #      "python ${CROWNET_HOME}/scripts/ci/repo_copy.py
  #      --source ssh://git@sam-dev.cs.hm.edu:6000/rover/crownet.wiki.git
  #      --destination git@github.com:roVer-HM/crownet.wiki.git"
  artifacts:
    paths:
      - ${CROWNET_HOME}/scripts
    expire_in: 4 weeks